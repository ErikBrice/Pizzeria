<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/main}"
      lang="es">
<head>
    <title>La Pizzería</title>
</head>
<body>
    <!-- Contenido Principal -->
    <main layout:fragment="content">
        <!-- Carousel principal -->
        <div id="carouselPrincipal" class="carousel slide mb-5" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselPrincipal" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselPrincipal" data-bs-slide-to="1" aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselPrincipal" data-bs-slide-to="2" aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img th:src="@{/images/sliders/slider-1-desktop.jpg}" class="d-block w-100 builder-desktop" alt="Pizza deliciosa" data-element="desktop-image" loading="lazy">
                    <img th:src="@{/images/sliders/slider-1-mobile.jpg}" class="d-block w-100 builder-mobile" alt="Pizza deliciosa" data-element="mobile-image" loading="lazy">
                    <div class="carousel-caption">
                        <a th:href="@{/menu}" class="btn btn-warning btn-lg">Ver Menú</a>
                    </div>
                </div>
                <div class="carousel-item">
                    <img th:src="@{/images/sliders/slider-2-desktop.jpg}" class="d-block w-100 builder-desktop" alt="Pizza dominguera" data-element="desktop-image" loading="lazy">
                    <img th:src="@{/images/sliders/slider-2-mobile.jpg}" class="d-block w-100 builder-mobile" alt="Pizza dominguera" data-element="mobile-image" loading="lazy">
                    <div class="carousel-caption">
                        <a th:href="@{/menu}" class="btn btn-warning btn-lg">Ordenar Ahora</a>
                    </div>
                </div>
                <div class="carousel-item">
                    <img th:src="@{/images/sliders/slider-3-desktop.jpg}" class="d-block w-100 builder-desktop" alt="Pizza familiar" data-element="desktop-image" loading="lazy">
                    <img th:src="@{/images/sliders/slider-3-mobile.jpg}" class="d-block w-100 builder-mobile" alt="Pizza familiar" data-element="mobile-image" loading="lazy">
                    <div class="carousel-caption">
                        <a th:href="@{/registro}" class="btn btn-warning btn-lg">Regístrate</a>
                    </div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselPrincipal" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Anterior</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselPrincipal" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Siguiente</span>
            </button>
        </div>

        <!-- Mensaje de Bienvenida para usuarios autenticados -->
        <div class="container my-4" sec:authorize="isAuthenticated()">
            <div class="alert alert-success alert-dismissible fade show" role="alert">
                <h4 class="alert-heading">¡Bienvenido de vuelta, <span sec:authentication="name">Usuario</span>!</h4>
                <p>Gracias por iniciar sesión en La Pizzería. Explora nuestro menú y haz tu orden ahora.</p>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        </div>

        <!-- Sección de características -->
        <section class="container mb-5 fade-in">
            <div class="row text-center g-4">
                <div class="col-md-4">
                    <div class="card feature-card shadow h-100">
                        <div class="card-body">
                            <div class="mb-3">
                                <i class="fas fa-pizza-slice fa-3x"></i>
                            </div>
                            <h3 class="card-title">Ingredientes Premium</h3>
                            <p class="card-text">Solo usamos los ingredientes más frescos y de la mejor calidad para nuestras pizzas.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card feature-card shadow h-100">
                        <div class="card-body">
                            <div class="mb-3">
                                <i class="fas fa-shipping-fast fa-3x"></i>
                            </div>
                            <h3 class="card-title">Entrega Rápida</h3>
                            <p class="card-text">Garantizamos que tu pizza llegará caliente y en tiempo récord a la puerta de tu casa.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card feature-card shadow h-100">
                        <div class="card-body">
                            <div class="mb-3">
                                <i class="fas fa-star fa-3x"></i>
                            </div>
                            <h3 class="card-title">Calidad Garantizada</h3>
                            <p class="card-text">Más de 15K clientes satisfechos avalan nuestro compromiso con la excelencia.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sección de promociones destacadas -->
        <section class="bg-light mb-5 fade-in">
            <div class="container">
                <h2 class="text-center mb-4">Promociones Destacadas</h2>
                <div class="row g-4">
                    <div class="col-lg-6">
                        <div class="card shadow h-100">
                            <div class="row g-0">
                                <div class="col-md-5">
                                    <img th:src="@{/images/destacadas/p_familiar.jpg}" class="img-fluid rounded-start h-100 object-fit-cover" alt="Promo familiar" loading="lazy">
                                </div>
                                <div class="col-md-7">
                                    <div class="card-body">
                                        <div class="badge bg-secondary mb-2">Oferta Especial</div>
                                        <h3 class="card-title">Combo Familiar Crusty</h3>
                                        <p class="card-text">1 pizza familiar clásica masa crusty + 4 bebidas + complemento a elección</p>
                                        <p class="card-text fw-bold card-special-price">S/. 59.90</p>
                                        <a th:href="@{/menu}" class="btn btn-warning"><i class="fas fa-cart-plus"></i> Ordenar Ahora</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="card shadow h-100">
                            <div class="row g-0">
                                <div class="col-md-5">
                                    <img th:src="@{/images/destacadas/p_2x1_medianas.jpg}" class="img-fluid rounded-start h-100 object-fit-cover" alt="Promo 2x1 Medianas" loading="lazy">
                                </div>
                                <div class="col-md-7">
                                    <div class="card-body">
                                        <div class="badge bg-secondary mb-2">Martes y Jueves</div>
                                        <h3 class="card-title">2x1 en Pizzas Medianas</h3>
                                        <p class="card-text">Todos los martes y jueves disfruta de dos pizzas medianas por el precio de una.</p>
                                        <p class="card-text fw-bold card-special-price">S/. 39.90</p>
                                        <a th:href="@{/menu}" class="btn btn-warning"><i class="fas fa-cart-plus"></i> Ordenar Ahora</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="card shadow h-100">
                            <div class="row g-0">
                                <div class="col-md-5">
                                    <img th:src="@{/images/destacadas/p_dominguero.jpg}" class="img-fluid rounded-start h-100 object-fit-cover" alt="Promo Dominguero" loading="lazy">
                                </div>
                                <div class="col-md-7">
                                    <div class="card-body">
                                        <div class="badge bg-secondary mb-2">Domingos</div>
                                        <h3 class="card-title">Combo Dominguero</h3>
                                        <p class="card-text">1 pizza grande + papas fritas + 2 bebidas para compartir en la mejor compañía.</p>
                                        <p class="card-text fw-bold card-special-price">S/. 49.90</p>
                                        <a th:href="@{/menu}" class="btn btn-warning"><i class="fas fa-cart-plus"></i> Ordenar Ahora</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="card shadow h-100">
                            <div class="row g-0">
                                <div class="col-md-5">
                                    <img th:src="@{/images/destacadas/p_cumple.jpg}" class="img-fluid rounded-start h-100 object-fit-cover" alt="Promo Cumpleañero" loading="lazy">
                                </div>
                                <div class="col-md-7">
                                    <div class="card-body">
                                        <div class="badge bg-secondary mb-2">Especial</div>
                                        <h3 class="card-title">Combo Cumpleañero</h3>
                                        <p class="card-text">2 pizzas familiares + 1 torta mediana + 1 gaseosa 3L para celebrar tu cumpleaños.</p>
                                        <p class="card-text fw-bold card-special-price">S/. 89.90</p>
                                        <a th:href="@{/menu}" class="btn btn-warning"><i class="fas fa-cart-plus"></i> Ordenar Ahora</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="card shadow h-100">
                            <div class="row g-0">
                                <div class="col-md-5">
                                    <img th:src="@{/images/destacadas/p_personal.jpg}" class="img-fluid rounded-start h-100 object-fit-cover" alt="Promo Personal" loading="lazy">
                                </div>
                                <div class="col-md-7">
                                    <div class="card-body">
                                        <div class="badge bg-secondary mb-2">Individual</div>
                                        <h3 class="card-title">Combo Personal de Verano</h3>
                                        <p class="card-text">1 pizza personal + 1 gaseosa personal, disponible todos los días.</p>
                                        <p class="card-text fw-bold card-special-price">S/. 24.90</p>
                                        <a th:href="@{/menu}" class="btn btn-warning"><i class="fas fa-cart-plus"></i> Ordenar Ahora</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="card shadow h-100">
                            <div class="row g-0">
                                <div class="col-md-5">
                                    <img th:src="@{/images/destacadas/p_2x1_personal.jpg}" class="img-fluid rounded-start h-100 object-fit-cover" alt="Promo 2x1 Personal" loading="lazy">
                                </div>
                                <div class="col-md-7">
                                    <div class="card-body">
                                        <div class="badge bg-secondary mb-2">Todos los días</div>
                                        <h3 class="card-title">2x1 en Combos Personales</h3>
                                        <p class="card-text">2 pizzas personales + 2 gaseosas personales, solo de 3:00 a 6:00 p.m.</p>
                                        <p class="card-text fw-bold card-special-price">S/. 29.90</p>
                                        <a th:href="@{/menu}" class="btn btn-warning"><i class="fas fa-cart-plus"></i> Ordenar Ahora</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Scripts específicos -->
    <th:block layout:fragment="scripts">
        <!-- Script para inicializar componentes -->
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                // Inicializar el carrusel
                new bootstrap.Carousel(document.getElementById('carouselPrincipal'), {
                    interval: 5000,
                    wrap: true
                });
            });
        </script>
    </th:block>
    
</body>
</html>